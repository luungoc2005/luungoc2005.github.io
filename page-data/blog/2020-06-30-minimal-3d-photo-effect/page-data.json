{"componentChunkName":"component---src-components-blog-post-blog-post-tsx","path":"/blog/2020-06-30-minimal-3d-photo-effect/","result":{"data":{"markdownRemark":{"html":"<h1>Introduction</h1>\n<hr>\n<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p>The <a href=\"https://www.techradar.com/sg/how-to/facebook-3d-photo\">3D Photo effect</a> - popularized by Facebook, is immensly satisfying to look at. It can make for pretty parallax-like background effects, and it can be partially replicated in 10 minutes with just a few easy steps!</p></div></div>\n<p>Check out the final effect here:\n<a href=\"https://codepen.io/luungoc2005/pen/mdVBZxm\"><div><iframe \n        height='400' \n        scrolling='no' \n        src='//codepen.io/luungoc2005/embed/preview/mdVBZxm/?height=400&theme-id=dark&default-tab=html,result' \n        frameborder='no' \n        allowtransparency='true' \n        allowfullscreen='true' \n        style='width: 100%;'></iframe></div></a></p>\n<h1>Prepare a photo and a depth map</h1>\n<hr>\n<p>To produce a 3D Photo effect, we first need a photo and a depth map. Here is an example:</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">Original photo</th>\n<th align=\"center\">Depth map</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\"><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f0bd950aad9153b85c2fd748659d4d65/f93b5/3d-photo-original.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 127.01612903225808%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEEA//EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABt1noOojKUyyKvNhH/8QAHBAAAgIDAQEAAAAAAAAAAAAAAQIAAwQREjMy/9oACAEBAAEFAkO4S07MoXStOmBybOT2Si01ut/qfnH8f//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/ASH/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwEp/8QAHBAAAgIDAQEAAAAAAAAAAAAAAAECIRARkSKB/9oACAEBAAY/AqeKiIofmD+jijRtxfTmIn//xAAcEAEBAQEAAgMAAAAAAAAAAAABEQAxIXFhobH/2gAIAQEAAT8hkovrTAPcLbIM7mcrZyZWHWJyxtcVfi4ngxi38Z39fjd99bf/2gAMAwEAAgADAAAAECjvz//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBlSMZH/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EC0lDa3/xAAeEAEAAwACAgMAAAAAAAAAAAABABEhMWEQQVGh8P/aAAgBAQABPxAzEriJkYOnO4yV0lBpEHUL4DOJbaUt2Uyb0Y71K7VgUejKmNVvN89sUEZuQM/G+M+g+I//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Original photo\"\n        title=\"Original photo\"\n        src=\"/static/f0bd950aad9153b85c2fd748659d4d65/f93b5/3d-photo-original.jpg\"\n        srcset=\"/static/f0bd950aad9153b85c2fd748659d4d65/2edd3/3d-photo-original.jpg 248w,\n/static/f0bd950aad9153b85c2fd748659d4d65/f93b5/3d-photo-original.jpg 300w\"\n        sizes=\"(max-width: 300px) 100vw, 300px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Original photo</p></figcaption>\n  </figure></td>\n<td align=\"center\"><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 256px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/efb9ab60b5a9772a7748132f14f22f25/6f3f2/3d-photo-depth.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC4klEQVQ4y3WT70+yXBjH/ePrVe/64RQBATljETFjq3BBwhPTfjmNVEDLIaAxnDG9nWYJPovTvLt77ufzgl0724fru+s6J9Xv97vdrmVZ3W736empm9BLeH5+/l5YluV53vobKV3Xa7WaoiiXCbIsS5J0eXkJT1RVVRTln4Srq6t2u/2HXK1WZVnmOI5hGJZlDw8PAQCFQoFOAADQNE2SJABAFMWfsqIooihyHAcAYBKgQNN0IYEkSRRFMQw7OTn5KZfL5VKpxPM87AYSvssEQWAYhqJosVg0TXO1WkVRFMfxp1ypVEqlkiAIp6enLMtuokKToigcx3MJx8fHpmn6vj+dTufzeRzHqXa7reu6YRitVksURQAASZIEQZAkmU/I5XKZBIZhWq2W67phGE6n0yiKUkEQTCaT8Xhs2/bFxQU0N2AYBuVcLseyrGmajuMEQTAej9/f31PD4XA0GoVh2Gw2OY6jKGpj4jiOomg2m93f39/d3d3b2zs6Onp4ePB9PwiC5XL5uedOp1OpVAAAOI4TBAHTYhiGIEg6nT44ONjZ2dna2tre3qYo6vr62vf9+Xz+GVvTtJubG57nEQTBcTyfz8Pk+Xwetk2n0ziO8zx/dnamqmqj0QjD8GtVtm27rmtZ1v39fbValSSJYRjYHE3IZDIsy/Z6vdFo9Pr6OpvNVqvVlxzHMVzdcrmE+TmOI0lyM6dMJkMQxMvLy3q9huv9fUk2led5t7e3j4+PnU7HsqxGo1EoFLLZLIIgFEU5jrNer6Mo+kOGP1ssFoZhqKqqadrd3Z2iKOVymaZpuCqKolzX/d/Ob29vhmFIkqRpWr1eVxRFluXz83NBEIrFoiAItm2v/8NX59ls1mq16vV6s9m0LEvX9YeEWq12n9Dr9X5k/t15Mpm4rjsYDDzPGwwGrus6jgO//X7ftu3hcPjx8fF3ebFY/EqYJcBicwKLzYb+Mu04juFb+wEc8uYZfpf/BSXhz/SvQAd3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Depth map\"\n        title=\"Depth map\"\n        src=\"/static/efb9ab60b5a9772a7748132f14f22f25/6f3f2/3d-photo-depth.png\"\n        srcset=\"/static/efb9ab60b5a9772a7748132f14f22f25/544ba/3d-photo-depth.png 248w,\n/static/efb9ab60b5a9772a7748132f14f22f25/6f3f2/3d-photo-depth.png 256w\"\n        sizes=\"(max-width: 256px) 100vw, 256px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Depth map</p></figcaption>\n  </figure></td>\n</tr>\n</tbody>\n</table>\n<p>Normally you can draw this depth map yourself - basically darker regions indicate greater depths, and whiter regions means closer to the camera. Some newer phones also have depth-sensing capability which can be used to quickly generate depth maps.</p>\n<p>For this post, however, I tried to find a depth estimation AI model - which led me to <a href=\"https://github.com/EPFL-VILAB/XTConsistency#quickstart-run-demo-locally\">this UNet-based model and demo repository</a>. The README provides excellent instructions on how to quickly setup and run the demo locally, taking a random photo of your choice and exporting to a depth map.</p>\n<p>This code, however, generate <em>inverted</em> depth maps compared to our requirements. Therefore I made some modifications to <code class=\"language-text\">demo.py</code> to invert the colors and increase the color contrast so the depths are more pronounced.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># ...</span>\n<span class=\"token comment\"># Remove center crop to take in the entire photo</span>\ntrans_totensor <span class=\"token operator\">=</span> transforms<span class=\"token punctuation\">.</span>Compose<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    transforms<span class=\"token punctuation\">.</span>Resize<span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">,</span> <span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> interpolation<span class=\"token operator\">=</span>PIL<span class=\"token punctuation\">.</span>Image<span class=\"token punctuation\">.</span>BILINEAR\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    transforms<span class=\"token punctuation\">.</span>ToTensor<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># ...</span>\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image<span class=\"token punctuation\">,</span> ImageOps<span class=\"token punctuation\">,</span> ImageEnhance\n\n<span class=\"token comment\"># Run the image through the model forward()</span>\nbaseline_output <span class=\"token operator\">=</span> model<span class=\"token punctuation\">(</span>img_tensor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>clamp<span class=\"token punctuation\">(</span><span class=\"token builtin\">min</span><span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">max</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nres <span class=\"token operator\">=</span> trans_topil<span class=\"token punctuation\">(</span>baseline_output<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Invert black and white</span>\nres <span class=\"token operator\">=</span> ImageOps<span class=\"token punctuation\">.</span>invert<span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Increase contrast</span>\nenhancer <span class=\"token operator\">=</span> ImageEnhance<span class=\"token punctuation\">.</span>Contrast<span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\nres <span class=\"token operator\">=</span> enhancer<span class=\"token punctuation\">.</span>enhance<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Save the output</span>\nres<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">.</span>output_path<span class=\"token operator\">+</span><span class=\"token string\">'/'</span><span class=\"token operator\">+</span>output_file_name<span class=\"token operator\">+</span><span class=\"token string\">'_'</span><span class=\"token operator\">+</span>args<span class=\"token punctuation\">.</span>task<span class=\"token operator\">+</span><span class=\"token string\">'_'</span><span class=\"token operator\">+</span><span class=\"token builtin\">type</span><span class=\"token operator\">+</span><span class=\"token string\">'.png'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><em>Side note</em>: Given that the model is UNet-based - the intuition here is the model does not actually \"estimate\" the depth of the image as how humans would, but rather it does so by identifying the different objects and draw regions on the image. As such, it would work better for certain objects and scenes compared to others. In this case, this model would work best for indoor furniture scenes, as those are abundant in its training dataset. It probably would not work as well for different objects, say, paintings or animals.</p>\n<h1>Minimal code 3D Photo with PixiJS</h1>\n<hr>\n<p>PixiJS - out of the box, offers various filters, one of which is the <a href=\"https://pixijs.download/dev/docs/PIXI.filters.DisplacementFilter.html\">DisplacementFilter</a> which can be used to easily create parallax-like effect. It also accepts (optionally) a depth map to create even more convincing 3D effect.</p>\n<p>We can tie the x, y parameters of the filter to a <code class=\"language-text\">mousemove</code> event or even <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Gyroscope\">Gyroscope</a> callback so to create the effect of the camera following the user's interactions.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>test_app<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 500px<span class=\"token punctuation\">;</span> <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 500px</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token keyword\">const</span> <span class=\"token constant\">IMG_WIDTH</span> <span class=\"token operator\">=</span> <span class=\"token number\">300</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> <span class=\"token constant\">IMG_HEIGHT</span> <span class=\"token operator\">=</span> <span class=\"token number\">381</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> <span class=\"token constant\">SCALE_FACTOR</span> <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">;</span>\n      \n      <span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PIXI<span class=\"token punctuation\">.</span>Application</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token constant\">IMG_WIDTH</span><span class=\"token punctuation\">,</span> \n        <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token constant\">IMG_HEIGHT</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test_app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      container<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> img <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PIXI<span class=\"token punctuation\">.</span>Sprite<span class=\"token punctuation\">.</span>from</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test.jpg\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      img<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> <span class=\"token constant\">IMG_WIDTH</span><span class=\"token punctuation\">;</span>\n      img<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token constant\">IMG_HEIGHT</span><span class=\"token punctuation\">;</span>\n      app<span class=\"token punctuation\">.</span>stage<span class=\"token punctuation\">.</span><span class=\"token function\">addChild</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      depthMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PIXI<span class=\"token punctuation\">.</span>Sprite<span class=\"token punctuation\">.</span>from</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test_depth_consistency.png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      depthMap<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> <span class=\"token constant\">IMG_WIDTH</span><span class=\"token punctuation\">;</span>\n      depthMap<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token constant\">IMG_HEIGHT</span><span class=\"token punctuation\">;</span>\n      app<span class=\"token punctuation\">.</span>stage<span class=\"token punctuation\">.</span><span class=\"token function\">addChild</span><span class=\"token punctuation\">(</span>depthMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      displacementFilter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PIXI<span class=\"token punctuation\">.</span>filters<span class=\"token punctuation\">.</span>DisplacementFilter</span><span class=\"token punctuation\">(</span>depthMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      app<span class=\"token punctuation\">.</span>stage<span class=\"token punctuation\">.</span>filters <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>displacementFilter<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n      container<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mousemove\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        displacementFilter<span class=\"token punctuation\">.</span>scale<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">IMG_WIDTH</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> e<span class=\"token punctuation\">.</span>clientX<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token constant\">SCALE_FACTOR</span><span class=\"token punctuation\">;</span>\n        displacementFilter<span class=\"token punctuation\">.</span>scale<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">IMG_HEIGHT</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> e<span class=\"token punctuation\">.</span>clientY<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token constant\">SCALE_FACTOR</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h1>\"Real\" 3D Photo effect</h1>\n<hr>\n<p>The \"3D Photo\" effect is, in fact, a rather popular research area, and thorough implementation would require additional techniques, including inpainting - to predict the \"missing\" bits of image when we change camera angles. Our effect is merely blending/bluring it, making it a bit jarring, but we can mask it by lowering the change in camera angle.</p>\n<p>This is an example of the fully-fledged effect:</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/FZZ9rpmVCqE\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<p>This of course, would only be viewable in video format at the moment because of the computational requirements for inpainting. However, you can also seek the video with <code class=\"language-text\">mousemove</code> or <code class=\"language-text\">Gyroscope</code> event to create interactivity.</p>\n<p>With time, it <em>might</em> be also possible for me to compress the model (which will require some retraining or distillation) so it can be run in the browser. For now I can't really see much practicality for it. Please contact me if you are interested. Cheers!</p>","frontmatter":{"title":"Minimal 3D Photo effect on the web","date":"2020-06-30T00:00:00.000Z"},"fields":{"readingTime":{"text":"4 min read"}}}},"pageContext":{"slug":"/blog/2020-06-30-minimal-3d-photo-effect/"}},"staticQueryHashes":[]}